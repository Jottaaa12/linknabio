<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fechamento do Dia - A√ßa√≠ Sabor da Terra</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Inter:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script> <!-- Adicione seu kit do Font Awesome se tiver -->
</head>
<body>

    <div class="dashboard-container">

        <!-- Coluna Lateral: Detalhes e A√ß√µes -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h3>Detalhes do Dia</h3>
            </div>
            <div class="sidebar-content">
                <div class="card">
                    <h4>Respons√°vel</h4>
                    <div class="user-selection">
                        <div class="user-card" data-value="Yasmin">
                            <span>Yasmin</span>
                        </div>
                        <div class="user-card" data-value="Nayara">
                            <span>Nayara</span>
                        </div>
                        <div class="user-card" data-value="Jo√£o Pedro (gerente)">
                            <span>Jo√£o P.</span>
                        </div>
                    </div>
                    <select id="funcionario" required class="hidden-select">
                        <option value=""></option>
                        <option value="Yasmin">Yasmin</option>
                        <option value="Nayara">Nayara</option>
                        <option value="Jo√£o Pedro (gerente)">Jo√£o Pedro (gerente)</option>
                    </select>
                </div>

                <div class="card">
                    <h4>Data do Registro</h4>
                    <input type="date" id="data" required>
                </div>

                <div class="card">
                    <h4>Observa√ß√µes</h4>
                    <textarea id="observacoesDia" placeholder="Anota√ß√µes importantes..."></textarea>
                </div>
                
                <div class="card">
                    <h4>Frase do Dia</h4>
                    <div id="fraseMotivacionalArea" contenteditable="true"></div>
                </div>
            </div>
        </aside>

        <!-- Conte√∫do Principal: Registros e N√∫meros -->
        <main class="main-content">
            <header class="main-header">
                <h1>Fechamento de Caixa</h1>
                <p class="creditos-topo">Sistema por <a href="https://www.instagram.com/Jottaaa0" target="_blank">@Jottaaa0</a></p>
            </header>

            <div id="registroDiarioContainer">
                <form id="registroForm">
                    
                    <div class="content-grid">
                        <!-- Entradas -->
                        <div class="card large-card">
                            <h3>Entradas do Dia</h3>
                            <div class="form-grid">
                                <div class="form-group"><label for="dinheiroEntrada">üí∞ Dinheiro</label><input type="number" id="dinheiroEntrada" placeholder="0.00" step="0.01" min="0"></div>
                                <div class="form-group"><label for="pixEntrada">üì± PIX</label><input type="number" id="pixEntrada" placeholder="0.00" step="0.01" min="0"></div>
                                <div class="form-group"><label for="cartaoEntrada">üí≥ Cart√£o</label><input type="number" id="cartaoEntrada" placeholder="0.00" step="0.01" min="0"></div>
                            </div>
                        </div>

                        <!-- Sa√≠das -->
                        <div class="card large-card">
                            <h3>Sa√≠das do Dia</h3>
                            <div id="saidasList">
                                <!-- Itens de sa√≠da din√¢micos -->
                            </div>
                            <button type="button" id="btnAdicionarSaida" class="btn btn-secondary">+ Adicionar Sa√≠da</button>
                            <p class="total-saidas">Total Sa√≠das: <span id="totalSaidas">R$ 0,00</span></p>
                        </div>

                        <!-- Outros Detalhes -->
                        <div class="card">
                            <h4>üéÅ Cart√£o Fidelidade</h4>
                            <div class="radio-group-modern">
                                <label><input type="radio" id="fidelidadeSim" name="fidelidade" value="sim"> Sim</label>
                                <label><input type="radio" id="fidelidadeNao" name="fidelidade" value="nao" checked> N√£o</label>
                            </div>
                            <div id="fidelidadeDetalhes">
                                <div class="form-group full-width"><label for="fidelidadeQuantidade">Quantos cart√µes?</label><input type="number" id="fidelidadeQuantidade" placeholder="0" step="1" min="0"></div>
                            </div>
                        </div>

                        <div class="card">
                            <h4>Comprovante</h4>
                            <input type="file" id="comprovante" accept="image/*,application/pdf">
                        </div>

                        <div class="card full-span">
                            <h4>Como foi o dia? (Term√¥metro da Loja)</h4>
                            <div class="mood-options">
                                <label class="mood-option">üò¥<input type="radio" name="climaLoja" value="Muito Fraco"></label>
                                <label class="mood-option">üòê<input type="radio" name="climaLoja" value="Fraco"></label>
                                <label class="mood-option">üôÇ<input type="radio" name="climaLoja" value="Bom"></label>
                                <label class="mood-option">üòÑ<input type="radio" name="climaLoja" value="√ìtimo"></label>
                                <label class="mood-option">üöÄ<input type="radio" name="climaLoja" value="Excepcional"></label>
                            </div>
                        </div>
                    </div>

                    <div class="button-group justify-center main-action">
                        <button type="button" id="btnRevisar" class="btn btn-primary">Revisar e Finalizar</button>
                    </div>
                </form>
            </div>

            <!-- Telas de Confirma√ß√£o e Envio (Modal) -->
            <div id="confirmacao" class="modal-overlay hidden">
                <div class="modal-content">
                    <h2>Revis√£o do Registro</h2>
                    <div id="resumoContainer">
                        <div id="resumo"></div>
                        <div id="ajusteCaixa" class="form-section">
                            <h4>Concilia√ß√£o de Caixa (Opcional)</h4>
                            <div class="ajuste-group">
                                <label>Dinheiro em Esp√©cie</label>
                                <span>Saldo do Sistema: <strong id="sistemaDinheiro">R$ 0,00</strong></span>
                                <input type="number" id="realDinheiro" placeholder="Valor real na gaveta" step="0.01">
                                <span>Diferen√ßa: <strong id="diferencaDinheiro">R$ 0,00</strong></span>
                            </div>
                            <div class="ajuste-group">
                                <label>Saldo em PIX</label>
                                <span>Saldo do Sistema: <strong id="sistemaPix">R$ 0,00</strong></span>
                                <input type="number" id="realPix" placeholder="Valor real no extrato" step="0.01">
                                <span>Diferen√ßa: <strong id="diferencaPix">R$ 0,00</strong></span>
                            </div>
                            <textarea id="motivoAjuste" placeholder="Motivo do(s) ajuste(s)..."></textarea>
                        </div>
                    </div>
                    <div class="button-group justify-center">
                        <button type="button" id="btnVerLogs" class="btn btn-secondary hidden">üìú Hist√≥rico</button>
                        <button type="button" id="btnEditar" class="btn btn-secondary">Editar</button>
                        <button type="button" id="btnConfirmar" class="btn btn-success">Confirmar e Salvar</button>
                    </div>
                </div>
            </div>

            <div id="envio" class="modal-overlay hidden">
                <div class="modal-content">
                    <h2>‚úÖ Registro Salvo!</h2>
                    <p>Seu registro di√°rio foi salvo com sucesso na nuvem.</p>
                    <div class="button-group justify-center">
                        <button type="button" id="btnEnviarWhatsApp" class="btn btn-success">Enviar para WhatsApp</button>
                        <button type="button" id="btnNovoRegistro" class="btn btn-primary">Novo Registro</button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Datalist para Autocomplete de Motivos -->
    <datalist id="motivosList">
        <option value="Gelo"></option>
        <option value="Limpeza"></option>
        <option value="Suprimentos"></option>
        <option value="Manuten√ß√£o"></option>
        <option value="Pagamento Fornecedor"></option>
        <option value="Outros"></option>
    </datalist>

    <!-- Modal para Logs -->
    <div id="logsModal" class="modal-overlay hidden">
        <div class="modal-content">
            <button id="closeLogsModal" class="btn-close-modal">&times;</button>
            <h3>Hist√≥rico de Revis√µes</h3>
            <div id="logsContainer"></div>
        </div>
    </div>
    
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>